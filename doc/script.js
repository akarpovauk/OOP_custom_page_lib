(()=>{"use strict";class t{constructor(){this.btnBlock=document.createElement("div"),this.colorPicker=document.createElement("input"),this.clear=document.createElement("div"),this.scale=localStorage.getItem("scale")||1,this.color=localStorage.getItem("color")||"#ffffff",this.btnBlock.addEventListener("click",(t=>this.onScaleChange(t))),this.colorPicker.addEventListener("input",(t=>this.onColorChange(t))),this.clear.addEventListener("click",(()=>this.reset()))}onScaleChange(t){const e=document.querySelector("body");t&&(this.scale=+t.target.value.replace(/x/g,""));const n=t=>{t.childNodes.forEach((t=>{if("#text"===t.nodeName&&t.nodeValue.replace(/\s+/g,"").length>0)if(t.parentNode.getAttribute("data-fz"))t.parentNode.style.fontSize=t.parentNode.getAttribute("data-fz")*this.scale+"px";else{let e=window.getComputedStyle(t.parentNode,null).fontSize;t.parentNode.setAttribute("data-fz",+e.replace(/px/g,"")),t.parentNode.style.fontSize=t.parentNode.getAttribute("data-fz")*this.scale+"px"}else n(t),localStorage.setItem("scale",this.scale)}))};n(e)}onColorChange(t){document.querySelector("body").style.backgroundColor=t.target.value,localStorage.setItem("color",t.target.value)}setBgColor(){document.querySelector("body").style.backgroundColor=this.color,this.colorPicker.value=this.color}injectStyle(){let t=document.createElement("style");t.innerHTML="\n\t\t.panel {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-around;\n\t\t\talign-items: center;\n\t\t\tposition: fixed;\n\t\t\ttop: 10px;\n\t\t\tright: 0;\n\t\t\tborder: 1px solid rgba(0,0,0, .2);\n\t\t\tbox-shadow: 0 0 20px rgba(0,0,0, .5);\n\t\t\twidth: 300px;\n\t\t\theight: 60px;\n\t\t\tbackground-color: #fff;\n\t\t}\n\n\t\t.scale {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-around;\n\t\t\talign-items: center;\n\t\t\twidth: 100px;\n\t\t\theight: 40px;\n\t\t}\n\t\t.scale_btn {\n\t\t\tdisplay: block;\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tborder: 1px solid rgba(0,0,0, .2);\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 18px;\n\t\t}\n\n\t\t.color {\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t}\n\t\t.clear {\n\t\t\tfont-size: 20px;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t",document.querySelector("head").appendChild(t)}reset(){localStorage.clear(),this.scale=1,this.color="#ffffff",this.setBgColor(),this.onScaleChange()}render(){this.injectStyle(),this.setBgColor(),this.onScaleChange();let t=document.createElement("input"),e=document.createElement("input"),n=document.createElement("div");t.classList.add("scale_btn"),e.classList.add("scale_btn"),n.classList.add("panel"),this.btnBlock.classList.add("scale"),this.colorPicker.classList.add("color"),t.setAttribute("type","button"),t.setAttribute("value","1x"),e.setAttribute("type","button"),e.setAttribute("value","1.5x"),this.colorPicker.setAttribute("type","color"),this.colorPicker.setAttribute("value","#ffffff"),this.btnBlock.append(t,e),n.append(this.btnBlock,this.colorPicker,this.clear),this.clear.innerHTML="&times",this.clear.classList.add("clear"),document.querySelector("body").append(n)}}window.addEventListener("DOMContentLoaded",(()=>{(new t).render()}))})();